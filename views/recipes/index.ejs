//views/recipes/index.ejs
<%- include('../partials/header', { title: 'All Recipes' }) %>

<p>This site is a demo application built using Node.js, Express.js, and EJS templates. Its main purpose is to 
  demonstrate a list/view design pattern, where users can view a collection of items and access individual item details. 
  The data is stored in MongoDB and accessed using Mongoose, showcasing how to integrate a database with web application. </p>
<h1>All Recipes</h1>

<table class="table table-hover table-striped">
  <thead>
    <tr>
      <th>Name</th>
      <th>Author</th>
      <th>Description</th>
      <th>Category</th>
      <th>Rating</th>
    </tr>
  </thead>
  <tbody>
    <% recipes.forEach(recipe => { %>
      <tr>
        <td><a href="/recipes/<%= recipe._id %>"><%= recipe.name %></a></td>
        <td><%= recipe.author %></td>
        <td><%= recipe.description %></td>
        <td><%= recipe.category?.name || 'N/A' %></td>
        <td><%= recipe.rating %></td>
      </tr>
    <% }) %>
  </tbody>
</table>

<%- include('../partials/footer') %>
